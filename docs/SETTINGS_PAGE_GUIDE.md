# 设置页面功能说明

## 页面入口

从"我的"标签页 → 点击"设置"菜单

```
我的页面
├── 个人信息卡片
├── 统计数据
├── VIP会员中心
└── 菜单列表
    ├── 交易所账户
    ├── 购买记录
    ├── 联系客服
    └── ⚙️ 设置 ← 点击这里
```

## 设置页面内容

### 1. 语言设置
- 图标：🌐 language-outline
- 当前值显示：中文 / English
- 点击后弹出选择框
  - ✓ 中文（默认）
  - ✓ English

### 2. 时区设置
- 图标：🕐 time-outline
- 当前值显示：UTC+8 (北京/香港)
- 点击后弹出滚动选择框
  - 显示所有可用时区
  - 当前选中的时区有 ✓ 标记

### 3. 提示信息
在设置项下方显示一个信息卡片：
> ℹ️ 时区设置将应用于所有时间显示。接口返回的时间为 UTC+0 时区，系统会自动转换为您选择的时区。

## 交互流程

### 语言设置流程
```
点击"语言设置"
  ↓
弹出模态框（半透明背景）
  ↓
显示选项：
  □ 中文
  □ English
  ↓
点击某个选项
  ↓
保存到本地存储
  ↓
显示Toast提示："语言设置已更新"
  ↓
模态框关闭
  ↓
页面自动更新显示
```

### 时区设置流程
```
点击"时区设置"
  ↓
弹出模态框（半透明背景）
  ↓
显示可滚动的时区列表
  □ UTC+0 (伦敦)
  □ UTC+1 (柏林)
  ...
  ✓ UTC+8 (北京/香港) ← 当前选中
  ...
  ↓
点击某个时区
  ↓
保存到本地存储
  ↓
显示Toast提示："时区设置已更新"
  ↓
模态框关闭
  ↓
页面自动更新显示
```

## UI设计

### 颜色方案
- 背景：黑色 (#000000)
- 卡片：深灰 (#161616)
- 文字主色：白色 (#F0F0F0)
- 文字副色：灰色 (#888888)
- 选中标记：绿色 (#4CAF50)

### 设置项样式
```
┌────────────────────────────────────┐
│ 🌐  语言设置          中文    >   │
├────────────────────────────────────┤
│ 🕐  时区设置   UTC+8(北京/香港) > │
└────────────────────────────────────┘
```

### 模态框样式
```
        ┌──────────────────────┐
        │  选择语言      ✕     │
        ├──────────────────────┤
        │  中文            ✓   │
        ├──────────────────────┤
        │  English             │
        └──────────────────────┘
```

## Toast提示
- 位置：屏幕顶部
- 样式：圆角矩形，半透明背景
- 图标：
  - 成功：✓ checkmark-circle (绿色)
  - 错误：✕ close-circle (红色)
- 自动消失：1.5秒

## 响应式设计

### 移动端
- 模态框宽度：90%屏幕宽度
- 时区列表高度：最大80%屏幕高度

### Web端
- 模态框宽度：最大400px
- 居中显示

## 数据持久化

### 存储键
- 语言：`@app_language`
- 时区：`@app_timezone`（JSON格式）

### 存储时机
- 用户选择后立即保存
- 应用启动时自动加载

### 默认值
- 语言：中文 (zh)
- 时区：UTC+8 (北京/香港)

## 与其他页面的集成

### 影响的页面/组件
1. **信号列表** - 信号发布时间根据时区显示
2. **交易员详情** - 最后活跃时间转换
3. **订单历史** - 订单创建时间转换
4. **VIP中心** - VIP到期时间转换
5. **个人中心** - 各种时间戳显示

### 实时更新
所有使用 `useSettings()` hook 的组件会自动响应设置变更：
- 无需刷新页面
- 无需手动更新状态
- React自动重新渲染

## 错误处理

### 保存失败
- 显示错误Toast："设置失败，请重试"
- 不关闭模态框
- 用户可以重新尝试

### 加载失败
- 使用默认值（中文 + UTC+8）
- 在控制台记录错误
- 不影响应用正常使用
